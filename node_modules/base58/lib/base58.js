// Generated by CoffeeScript 1.3.1
var Base58Builder;

Base58Builder = (function() {

  Base58Builder.name = 'Base58Builder';

  function Base58Builder() {
    this.alphabet = "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";
    this.base = this.alphabet.length;
  }

  Base58Builder.prototype.encode = function(num) {
    var mod, str;
    if (!/^\d+$/.test(num)) {
      throw new Error('Value passed is not an integer.');
    }
    if (typeof num !== 'number') {
      num = parseInt(num);
    }
    str = '';
    while (num >= this.base) {
      mod = num % this.base;
      str = this.alphabet[mod] + str;
      num = (num - mod) / this.base;
    }
    return this.alphabet[num] + str;
  };

  Base58Builder.prototype.decode = function(str) {
    var char, char_index, index, num, _i, _len, _ref;
    num = 0;
    _ref = str.split(/(?:)/).reverse();
    for (index = _i = 0, _len = _ref.length; _i < _len; index = ++_i) {
      char = _ref[index];
      if ((char_index = this.alphabet.indexOf(char)) === -1) {
        throw new Error('Value passed is not a valid Base58 string.');
      }
      num += char_index * Math.pow(this.base, index);
    }
    return num;
  };

  return Base58Builder;

})();

module.exports = new Base58Builder();
